# MOBC-FastApi

# Автор
Шильцов Дмитрий Александрович (@DDmmiittrryy)

# Задание
реализовать с помощью FastApi Api описанный в <a href="https://drive.google.com/file/d/1qtHEGCl2gpLxOR7CJPOC40tHp4hwYL5_/view">задании</a>

предполагается что это как бы Api ветклиники но точное назначание и принципы работы многих позиций не ясны, поэтому реализовывал максимально близко 
к ТЗ. Сам проект задеплоен на render.com и открывается по адресу <br><br><a href="https://mobc-fastapi.onrender.com/" target="_blank">https://mobc-fastapi.onrender.com/</a><br><br>

# Реализация
для хранения данных использую Postgresql который живет на том же render.com. Параметры для подключения храню и передаю через переменные окружения (dotenv)
база данных реализована самым примитивным образом без ключей, индексов и тп

# пояснение по реализаци методов Api

в описании собаки добавил что иммя не может иметь длину 0 (name: constr(min_length=1) )

<b>POST /post</b> - постим "тайимстемп", при получении заносим в базу. Никаких проверок. Возвращаем добавленный.<br>
<b>GET /dog</b> - если не задан параметр kind выводим всех собак если задан - то только заданной породы. Если породы нет в списке заявленных - бросаем ошибку<br>
<b>POST /DOG</b> - проверяем отправленный pk, если такой уже есть в базе - заворачиваем с ошибкой, иначе добавляем и возвращаем добавленное<br>
<b>GET /DOG/{pk}</b> - тут все очевидно<br>
<b>POST /DOG/{pk}</b> - тут есть двузсмысленность в задании - pk приходит и из url и из json объекта. Сделал проверку - если не равны - заворачиваю. Заворачиваю если pk не уникален.<br>
Остальное все стандартно.<br><br>

функции не описывал как async - действовал в духе того как показывалось на лекции. 
